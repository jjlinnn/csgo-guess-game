<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>å¼€å§‹å¼—ä¸€æŠŠï¼šçŒœç‚‰çŸ³éšä»</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <div style="display: flex; align-items: flex-start; gap: 30px;">

    <!-- âœ… å·¦ä¾§ï¼šä¸»æ¸¸æˆåŒºåŸŸ -->
    <div style="flex: 2;">
      <h1>çŒœç‚‰çŸ³ä¼ è¯´éšä»</h1>

      <div class="autocomplete-wrapper">
        <input type="text" id="guessInput" placeholder="è¾“å…¥éšä»åå­—ï¼Œå¦‚ï¼šç«ç¾½ç²¾çµ" />
        <ul id="suggestions" class="autocomplete-list"></ul>
      </div>
      <button onclick="submitGuess()">æäº¤</button>
      <button onclick="restartGame()">å†ç©ä¸€æŠŠ</button>

      <div id="result" class="result"></div>

      {% if current_user.is_authenticated %}
      <p>
        æ¬¢è¿ä½ ï¼Œ{{ current_user.username }}ï¼ˆç§¯åˆ†ï¼š{{ current_user.score }} åˆ†ï¼‰ |
        {% if current_user.username == 'admin' %}
          <a href="/admin" target="_blank">åå°ç®¡ç†</a> |
        {% endif %}
        <a href="/logout">é€€å‡º</a>
      </p>
      {% else %}
      <p><a href="/login">ç™»å½•</a> | <a href="/register">æ³¨å†Œ</a></p>
      {% endif %}

      <table id="playerTable" style="display:none;">
        <thead>
          <tr>
            <th>åç§°</th>
            <th>æœ¬æ•°</th>
            <th>æ”»å‡»åŠ›</th>
            <th>è¡€é‡</th>
            <th>ç§æ—</th>
          </tr>
        </thead>
        <tbody id="playerRow"></tbody>
      </table>

      <h2>â• æ·»åŠ æ–°å¡ç‰Œ</h2>
      <div class="form-container">
        <input id="name" placeholder="åç§°ï¼ˆå¦‚ï¼šæœºæ¢°è¢‹é¼ ï¼‰" />
        <input id="mana" type="number" placeholder="æœ¬æ•°ï¼ˆ1~10ï¼‰" />
        <input id="attack" type="number" placeholder="æ”»å‡»åŠ›" />
        <input id="health" type="number" placeholder="è¡€é‡" />
        <input id="tribe" placeholder="ç§æ—ï¼ˆå¦‚ï¼šæœºæ¢°ã€é‡å…½ï¼‰" />
        <button onclick="addPlayer()">æ·»åŠ å¡ç‰Œ</button>
        <div id="add-result" style="margin-top: 10px;"></div>
      </div>
    </div>

    <!-- âœ… å³ä¾§ï¼šæ»šåŠ¨å¡ç‰Œåˆ—è¡¨ -->
    <div style="flex: 1; max-height: 600px; overflow-y: auto; border-left: 1px solid #ccc; padding-left: 10px;">
      <h3>å…¨éƒ¨å¯çŒœå¡ç‰Œï¼ˆæŒ‰æœ¬æ•°æ’åºï¼‰</h3>
      <ul id="minionList" style="list-style: none; padding-left: 0;"></ul>
    </div>

    
  </div>
  <div id="leaderboard">
    <h2>ğŸ”¥ ç§¯åˆ†æ’è¡Œæ¦œ</h2>
    <ul id="leaderboardList"></ul>
  </div>
  <script src="/static/script.js"></script>
</body>

</html>
